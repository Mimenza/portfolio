import React, { useEffect } from "react";

import { useVariablesContext } from "../../context/variablesContext";
const EmSvg: React.FC = () => {
  const { animateLogo, setAnimateLogo } = useVariablesContext();

  useEffect(() => {
    if (animateLogo) {
      const timeout = setTimeout(() => {
        setAnimateLogo(false); // Desactiva la animación después de ejecutarse
      }, 5000); // Duración de la animación (5s)

      return () => clearTimeout(timeout); // Limpia el timeout si el componente se desmonta
    }
  }, [animateLogo, setAnimateLogo]);

  return (
    <div className="relative" style={{ width: 50, height: 30 }}>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="50 50 200 200"
        width={50}
        height={30}
        preserveAspectRatio="xMidYMid meet"
        className="absolute top-0 left-0 w-full h-full"
      >
        <style>
          {`
          .line-animation {
            stroke-dasharray: 2000;
            stroke-dashoffset: 2000;
            animation: draw 5s linear forwards;
            animation-delay: 1s;
          }

          @keyframes draw {
            to {
              stroke-dashoffset: 0;
            }
          }
        `}
        </style>
        <path
          className={animateLogo ? "line-animation" : ""}
          d="M50.938745,104.030454q-5.763577,1.788958-5.849025,1.703511t-4.699612,3.417898q-2.136187,5.468637-2.136187,5.554084t.512685,5.383189l2.905214,4.614163l4.528716,4.101477l4.443268,2.477977l5.554085,1.452606q6.323112.598131,6.494007.598131t6.579454-.085448l7.348481-1.196264l5.810427-1.708949l5.810427-2.648872l3.674241-2.648871l2.136186-3.161556q1.452607-3.161557,1.452607-3.247004t-.854474-2.136186q-3.07611-2.307082-3.332452-2.307082t-5.810427-1.196265l-5.38319-.085447-6.921245,1.623502-7.263034,2.307081-5.72498,2.819767-3.930584,4.101478-2.648871,4.016031-1.538054,3.503346q-1.196264,5.126847-1.281712,5.468637t-.170895,5.126848l1.879844,5.38319q2.357773,3.5461,2.420412,3.734014t2.442891,3.006634l3.319825,2.463738l3.19455,2.296767l2.210726,1.12129q-3.833952-.442379-4.202601-.589839c-.368649-.14746-5.161088-.14746-5.234818-.14746s-4.71871.294919-4.939899.294919q-.221189,0-5.972116.958488l-5.898387,1.843246-5.382277,2.506814-4.35006,2.949194-3.465302,3.170381-3.605354,5.517605-2.060729,6.010459-.686911,6.525643q1.545547,6.010458,1.545547,6.182186c0,.171728,3.606276,5.495276,3.606276,5.667004q0,.171728,4.808368,4.808368l6.525643,4.121458l6.431926,1.889l6.312132,1.052725l6.104438-.247477l5.856961-.824924l5.939453-1.402371l5.691976-2.06231l6.186931-2.72225l5.279514-3.712158l5.102378-4.512542l4.586335-6.380988l4.985146-9.372076l4.730259-8.58552l4.169974-7.639575l4.529243-7.10433l4.857937-8.077553l4.596122-6.603856l5.024233-6.441326q5.313434-6.300183,5.313434-6.367751t4.864886-5.40543l4.594615-5.405429l4.190107-3.391409l4.436969-2.31494q3.183042-.964559,3.665321-.964559t4.047477-.096456l4.922917,1.15747l2.700763,2.990132q1.736205,5.015703,1.736205,5.208615t-.385824,5.787351l-1.832661,8.102291q-1.743616,8.043057-1.743616,8.189167t-1.474867,6.551584l-2.922917,9.404537q-18.378421,51.726874-18.378421,51.489744t17.37842-37.357046q5.038213-9.200926,5.038213-9.350806t4.946065-8.716065l4.210408-6.465818l4.131801-5.617822l4.801557-6.823267l4.548844-6.065125l4.043417-5.433342l5.054271-5.180628l4.927914-3.53799l5.433342-3.032563l5.433342-1.010854l3.53799.631784l2.779849,2.527135l1.768994,3.790704q1.010854,5.559699,1.010854,5.812412c0,.252713-.884497,6.444197-.884497,6.570553s-1.895353,7.581406-2.021709,7.707763q-.126356.126357-3.411633,9.66124l-15.130024,40.828187q-1.782149,6.443152-1.919237,6.854417c-.137088.411265.548354,6.031887.548354,6.168975s2.46759,5.209357,2.46759,5.346445s4.798092,3.29012,4.93518,3.427208s7.265682-.137089,7.951123-.274177q.685441-.137088,7.128593-3.153031q5.168989-3.970846,5.906697-4.155273c.737708-.184427,6.086087-6.270513,6.270513-6.270513s4.979524-7.377073,5.348377-7.5615q.368853-.184427,4.05739-7.192646"
          fill="none"
          stroke="black"
          strokeWidth="10"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
      </svg>
    </div>
  );
};

export default EmSvg;
